"use strict";(self.webpackChunkrtfm_water_tracker_frontend=self.webpackChunkrtfm_water_tracker_frontend||[]).push([[949],{1949:function(e,a,t){t.r(a),t.d(a,{default:function(){return ta}});var n=t(4420),r=t(1821),s=t(9439),l=t(2791),i=t(8271),o="DailyNormalModalForm_title__ydMqr",c="DailyNormalModalForm_wrappGender__KLR2y",d="DailyNormalModalForm_label__dwl4R",u="DailyNormalModalForm_genderInput__NXFmL",m="DailyNormalModalForm_userInfo__rQdGe",h="DailyNormalModalForm_input__lk-bE",_="DailyNormalModalForm_result__MiXox",x="DailyNormalModalForm_resultText__L7jOP",f="DailyNormalModalForm_resultColor__zORHx",j="DailyNormalModalForm_waterRateWrapp__0bqtE",v="DailyNormalModalForm_waterRate__jHjDG",p="DailyNormalModalForm_button__ocXB2",N="DailyNormalModalForm_form__645nk",y=t(184),g=function(){var e,a=(0,l.useState)("female"),t=(0,s.Z)(a,2),g=t[0],M=t[1],b=(0,l.useState)(""),w=(0,s.Z)(b,2),C=w[0],S=w[1],D=(0,l.useState)(""),k=(0,s.Z)(D,2),W=k[0],Z=k[1],F=(0,l.useState)(""),A=(0,s.Z)(F,2),R=A[0],H=A[1],T=(0,n.I0)();function E(e){var a=e.target,t=a.value;switch(a.name){case"gender":M(t);break;case"weight":S(t);break;case"time":Z(t);break;case"waterRate":H(t);break;default:return}}switch(g){case"female":e=.03*C+.4*W;break;case"male":e=.04*C+.6*W;break;default:return}return(0,y.jsxs)("form",{action:"Water rate",className:N,onSubmit:function(a){if(a.preventDefault(),R){var t=1e3*R;T((0,i.F)({waterRate:t})).unwrap().then((function(){T((0,r.rA)())})).catch((function(e){alert("Maximum amount of your daily normal is 15L")}))}else{var n=1e3*e;T((0,i.F)({waterRate:n})).unwrap().then((function(){T((0,r.rA)())})).catch((function(e){alert("Maximum amount of your daily normal is 15L")}))}},children:[(0,y.jsx)("h3",{className:o,children:"Calculate your rate"}),(0,y.jsxs)("fieldset",{className:c,children:[(0,y.jsxs)("label",{className:d,htmlFor:"gender",children:[(0,y.jsx)("input",{className:u,type:"radio",id:"gender",value:"female",name:"gender",checked:"female"===g,onChange:E}),"For woman"]}),(0,y.jsxs)("label",{className:d,htmlFor:"gender",children:[(0,y.jsx)("input",{className:u,type:"radio",id:"gender",value:"male",name:"gender",checked:"male"===g,onChange:E}),"For man"]})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("label",{className:d,htmlFor:"weight",children:"Your weight in kilograms:"}),(0,y.jsx)("input",{className:h,type:"text",id:"weight",placeholder:"0",name:"weight",value:C,onChange:E})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("label",{className:d,htmlFor:"time",children:"The time of active participation in sports or other activities with a high physical. Load in hours:"}),(0,y.jsx)("input",{className:h,type:"text",id:"time",placeholder:"0",value:W,name:"time",onChange:E})]}),(0,y.jsxs)("fieldset",{className:_,children:[(0,y.jsx)("p",{className:x,children:"The required amount of water in liters per day:"}),(0,y.jsx)("p",{className:f,children:e.toFixed(2)})]}),(0,y.jsxs)("fieldset",{className:j,children:[(0,y.jsx)("label",{className:v,htmlFor:"water",children:"Write down how much water you will drink:"}),(0,y.jsx)("input",{className:h,type:"text",name:"waterRate",id:"water",placeholder:"0",value:R,onChange:E,min:0,max:15})]}),(0,y.jsx)("button",{className:p,type:"submit",children:"Save"})]})},M=t(4352),b="DailyNormaModal_wrapp__abudM",w="DailyNormaModal_buttonClose__eT7Mc",C="DailyNormaModal_title__k3ynU",S="DailyNormaModal_list__M8Qvx",D="DailyNormaModal_item__g2Vfz",k="DailyNormaModal_description__h96pu",W="DailyNormaModal_formula__LLd2F",Z="DailyNormaModal_wrappText__sXIFt",F="DailyNormaModal_text__oXaGW",A=function(){var e=(0,n.I0)();return(0,y.jsxs)("div",{className:b,children:[(0,y.jsx)("h2",{className:C,children:"My daily norma"}),(0,y.jsx)("button",{type:"button",className:w,onClick:function(){e((0,r.rA)())},children:(0,y.jsx)(M.n,{id:"#close",width:24,height:24})}),(0,y.jsxs)("ul",{className:S,children:[(0,y.jsx)("li",{className:D,children:(0,y.jsxs)("p",{className:k,children:["For girl: ",(0,y.jsx)("span",{className:W,children:"V=(M*0,03) + (T*0,4)"})]})}),(0,y.jsx)("li",{className:D,children:(0,y.jsxs)("p",{className:k,children:["For man: ",(0,y.jsx)("span",{className:W,children:"V=(M*0,04) + (T*0,6)"})]})})]}),(0,y.jsx)("div",{className:Z,children:(0,y.jsx)("p",{className:F,children:"* V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)"})}),(0,y.jsx)(g,{})]})},R=t(9321),H="DailyNorma_position__JOUK2",T="DailyNorma_title__X4SZH",E="DailyNorma_flex__f42Rc",L="DailyNorma_desc__j4uSG",I="DailyNorma_button__z94Bt",P=t(6681),V=function(e){return e.waterRate.waterRate},z=function(){var e=(0,n.I0)(),a=(0,n.v9)(P.WK),t=(0,n.v9)(V);return(0,y.jsxs)("div",{className:H,children:[(0,y.jsx)("h3",{className:T,children:"My daily norma"}),(0,y.jsxs)("div",{className:E,children:[(0,y.jsx)("p",{className:L,children:(0,y.jsxs)("strong",{children:[t/1e3," L"]})}),(0,y.jsx)("button",{className:I,type:"button",onClick:function(){e((0,r.rA)())},children:"Edit"})]}),a?(0,y.jsx)(R.Z,{active:a,onClose:function(){e((0,r.rA)())},children:(0,y.jsx)(A,{})}):null]})},G=t(5861),X=t(4687),B=t.n(X),U=t(6818),O="AddWaterModal_container__BdiNB",q="AddWaterModal_firstblock__8aE9p",K="AddWaterModal_exit__hzEA6",Q="AddWaterModal_title__1QuAy",J="AddWaterModal_description__MWnVx",Y="AddWaterModal_secondblock__LIZfL",$="AddWaterModal_desc__bUSVa",ee="AddWaterModal_amount__mR7Tc",ae="AddWaterModal_btn__F5VVy",te="AddWaterModal_span__q9j94",ne="AddWaterModal_thirdblock__1tEFH",re="AddWaterModal_select__inDsb",se="AddWaterModal_fourthblock__iXiuN",le="AddWaterModal_label__PTBk-",ie="AddWaterModal_input__Ca7yJ",oe="AddWaterModal_fifthblock__zy-tk",ce="AddWaterModal_amn__sNyLX",de="AddWaterModal_save__Q5Ajf",ue=function(e){var a=e.closeModal,t=(0,n.I0)(),r=(0,l.useState)(0),i=(0,s.Z)(r,2),o=i[0],c=i[1],d=(0,l.useState)(""),u=(0,s.Z)(d,2),m=u[0],h=u[1],_=(0,l.useState)(function(){var e=new Date,a=String(e.getHours()),t=String(e.getMinutes()).padStart(2,"0");return"".concat(a,":").concat(t)}()),x=(0,s.Z)(_,2),f=x[0],j=x[1];(0,l.useEffect)((function(){h(o.toString())}),[o]);var v=function(){var e=(0,G.Z)(B().mark((function e(n){var r,l,i,c,d,u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=f.split(":").map(Number),l=(0,s.Z)(r,2),i=l[0],c=l[1],(d=new Date).setHours(i),d.setMinutes(c),u=d.toISOString(),e.prev=6,e.next=9,t((0,U.LZ)({amount:o,date:u}));case 9:"fulfilled"===e.sent.meta.requestStatus&&a(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(a){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:O,children:[(0,y.jsxs)("div",{className:q,children:[(0,y.jsx)("h2",{className:Q,children:"Add water"}),(0,y.jsx)("button",{className:K,type:"button",onClick:a,children:(0,y.jsx)(M.n,{id:"#close",width:24,height:24})})]}),(0,y.jsx)("p",{className:J,children:" Choose a value:"}),(0,y.jsxs)("div",{className:Y,children:[(0,y.jsx)("p",{className:$,children:"Amount of water:"}),(0,y.jsxs)("div",{className:ee,children:[(0,y.jsx)("button",{className:ae,onClick:function(){c((function(e){return Math.max(e-50,0)}))},disabled:0===o,children:(0,y.jsx)(M.n,{id:"#minus",width:10,height:14})}),(0,y.jsxs)("span",{className:te,children:[o,"ml"]}),(0,y.jsx)("button",{className:ae,onClick:function(){c((function(e){return e+50}))},children:(0,y.jsx)(M.n,{id:"#plus",width:14,height:14})})]})]}),(0,y.jsxs)("form",{onSubmit:v,children:[(0,y.jsxs)("div",{className:ne,children:[(0,y.jsx)("p",{className:$,children:"Recording time:"}),(0,y.jsx)("div",{children:(0,y.jsx)("select",{value:f,onChange:function(e){j(e.target.value)},className:re,children:function(){for(var e=[],a=0;a<24;a++)for(var t=0;t<60;t+=5){var n="".concat(a.toString(),":").concat(t.toString().padStart(2,"0"));e.push((0,y.jsx)("option",{value:n,children:n},n))}return e}()})})]}),(0,y.jsxs)("div",{className:se,children:[(0,y.jsx)("label",{className:le,children:"Enter the value of the water used:"}),(0,y.jsx)("input",{className:ie,type:"text",value:m,onChange:function(e){h(e.target.value)},onBlur:function(){var e=50*Math.round(Number(m)/50);c(Number(m)),h(e.toString())}})]}),(0,y.jsxs)("div",{className:oe,children:[(0,y.jsxs)("p",{className:ce,children:[o,"ml"]}),(0,y.jsx)("button",{className:de,type:"submit",children:"Save"})]})]})]})},me=function(e){return e.water.items},he=function(e){return e.water.todayData},_e=function(e){return e.water.error},xe=function(e){return e.water.isLoading},fe=function(e){return e.water.listItems},je="WaterProgress_flex__s5pLC",ve="WaterProgress_title__KtZ5d",pe="WaterProgress_button__KbNTZ",Ne="WaterProgress_progressBar__H2Rel",ye="WaterProgress_progress__HMQxG",ge=function(){var e=(0,l.useState)(!1),a=(0,s.Z)(e,2),t=a[0],r=a[1],i=(0,n.I0)(),o=(0,n.v9)(he),c=(0,n.v9)(me),d=(0,n.v9)(V);(0,l.useEffect)((function(){i((0,U.DI)())}),[i,c,d]);var u=function(){r(!1)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:je,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:ve,children:"Today"}),(0,y.jsx)("div",{className:Ne,children:o?(0,y.jsx)("div",{className:ye,style:{width:"".concat(Math.min(o.waterPercent,100),"%")}}):(0,y.jsx)("div",{className:ye,style:{width:"0%"}})})]}),(0,y.jsx)("button",{className:pe,onClick:function(){r(!t)},children:"Add Water"})]}),t?(0,y.jsx)(R.Z,{active:t,onClose:u,children:(0,y.jsx)(ue,{closeModal:u})}):null]})},Me=t(1413),be=t(1726),we=t(3648),Ce=t(1155),Se=t(5962),De=t(3540),ke=t(2430),We=t(2610),Ze="Calendar_calendarContainer__ZNbWP",Fe="Calendar_calendarHeader__dtPX6",Ae="Calendar_titleMonth__VGkaA",Re="Calendar_monthNameContainer__T-fX8",He="Calendar_buttonMonth__x0JmG",Te="Calendar_monthName__R114a",Ee="Calendar_calendarGrid__7VATe",Le="Calendar_day__voALS",Ie="Calendar_calendarDay__dt04z",Pe="Calendar_noBorder__VEtYF",Ve="Calendar_today__jZMN6",ze="Calendar_popover__80+bz",Ge="Calendar_popoverDate__QmOG4",Xe="Calendar_popoverList__Tk1vF",Be=t(442),Ue=function(e){return e.month.todayData},Oe=function(e){var a=e.date,t=e.dailyNorma,n=e.fulfillment,r=e.waterServings,s=(0,be.WU)(a,"d MMMM");return(0,y.jsxs)("div",{className:ze,children:[(0,y.jsx)("p",{className:Ge,children:s}),(0,y.jsxs)("p",{className:Xe,children:["Daily norma: ",(0,y.jsxs)("span",{className:Ge,children:[t,"L"]})]}),(0,y.jsxs)("p",{className:Xe,children:["Fulfillment of the daily norm:"," ",(0,y.jsxs)("span",{className:Ge,children:[n,"%"]})]}),(0,y.jsxs)("p",{className:Xe,children:["How many servings of water:"," ",(0,y.jsx)("span",{className:Ge,children:r})]})]})},qe=function(){var e=(0,l.useState)(new Date),a=(0,s.Z)(e,2),t=a[0],r=a[1],i=(0,l.useState)(null),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,l.useState)([]),m=(0,s.Z)(u,2),h=m[0],_=m[1],x=(0,n.I0)(),f=(0,n.v9)(Ue);(0,l.useEffect)((function(){var e=function(){var e=(0,G.Z)(B().mark((function e(){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x((0,Be.r)((0,be.WU)(t,"yyyy-MM")));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error fetching month data:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();e()}),[x,t]),(0,l.useEffect)((function(){if(f){var e=((null===f||void 0===f?void 0:f.waterInfoForMonth)||[]).map((function(e){return{dailyNorma:e.waterRate/1e3,fulfillment:e.percentage,waterServings:e.totalIntake}}));_(e)}}),[f]);var j=(0,Se.N)(t),v=(0,De.V)(t),p=(0,ke.D)({start:j,end:v});return(0,y.jsxs)("div",{className:Ze,children:[(0,y.jsxs)("div",{className:Fe,children:[(0,y.jsx)("h1",{className:Ae,children:"Month"}),(0,y.jsxs)("div",{className:Re,children:[(0,y.jsx)("button",{className:He,onClick:function(){r((0,Ce.W)(t,1))},children:"<"}),(0,y.jsx)("p",{className:Te,children:(0,be.WU)(t,"MMMM yyyy")}),(0,y.jsx)("button",{className:He,onClick:function(){r((0,we.z)(t,1))},children:">"})]})]}),(0,y.jsxs)("div",{className:Ee,children:[p.map((function(e,a){var t,n,r=(null===(t=h[a])||void 0===t?void 0:t.fulfillment)>=100;return(0,y.jsxs)("div",{className:Le,children:[(0,y.jsx)("div",{className:"".concat(Ie," ").concat((0,We.z)(e)?Ve:""," ").concat(r?Pe:""),onMouseEnter:function(){return d((0,Me.Z)((0,Me.Z)({},h[a]),{},{date:e}))},onMouseLeave:function(){return d(null)},children:(0,be.WU)(e,"d")}),(0,y.jsxs)("div",{children:[null===(n=h[a])||void 0===n?void 0:n.fulfillment,"%"]})]},a)})),c&&(0,y.jsx)(Oe,(0,Me.Z)((0,Me.Z)({},c),{},{date:c.date}))]})]})},Ke="HomePage_sectionHome__E8g+8",Qe="HomePage_containerHome__TjOv1",Je="HomePage_direction__1DZZU",Ye="HomePage_waterRateContainer__uwnzr",$e="Today_list_waters__o+iiP",ea="Today_list_item__K+jnz",aa=function(){var e=(0,n.I0)(),a=(0,n.v9)(fe),t=(0,n.v9)(xe),r=(0,n.v9)(_e),i=(0,l.useState)(""),o=(0,s.Z)(i,2),c=o[0],d=o[1],u=(0,l.useState)(!1),m=(0,s.Z)(u,2),h=m[0],_=m[1],x=(0,l.useState)(!1),f=(0,s.Z)(x,2),j=f[0],v=f[1],p=function(e){document.body.style.overflow="hidden",d(e.currentTarget.dataset.iditems),_(!0),console.log(h)},N=function(e){document.body.style.overflow="hidden",d(e.currentTarget.dataset.iditems),v(!0),console.log(h)},g=function(){_(!1),v(!1),document.body.style.overflow=""},M=(0,l.useState)(0),b=(0,s.Z)(M,2),w=b[0],C=b[1],S=(0,l.useState)(""),D=(0,s.Z)(S,2),k=D[0],W=D[1],Z=(0,l.useState)(function(){var e=new Date,a=String(e.getHours()),t=String(e.getMinutes()).padStart(2,"0");return"".concat(a,":").concat(t)}()),F=(0,s.Z)(Z,2),A=F[0],H=F[1];(0,l.useEffect)((function(){W(w.toString())}),[w]);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{children:"Today"}),(0,y.jsx)("ul",{className:$e,children:a.waterRecords&&a.waterRecords.map((function(e){var a=e.id,t=e.consumedWater,n=e.date,r=new Date(n);return(0,y.jsxs)("li",{className:ea,children:[(0,y.jsxs)("p",{children:[t," ml"]})," ",(0,y.jsxs)("p",{children:[r.getHours()<10&&"0",r.getHours(),":",r.getMinutes()<10&&"0",r.getMinutes()]}),(0,y.jsx)("button",{type:"button","data-iditems":a,onClick:N,children:"edit"}),(0,y.jsx)("button",{type:"button","data-iditems":a,onClick:p,children:"delete"})]},a)}))}),t&&!r&&(0,y.jsx)("b",{children:"Request in progress..."}),r&&r,h&&(0,y.jsxs)(R.Z,{active:_,onClose:g,children:[(0,y.jsx)("p",{children:"DELETE"}),(0,y.jsx)("button",{type:"button",onClick:g,children:"cancel"}),(0,y.jsx)("button",{type:"button",onClick:function(){_(!1),document.body.style.overflow="",d(""),e((0,U.Wr)(c))},children:"delete"})]}),j&&(0,y.jsxs)(R.Z,{active:j,onClose:g,children:[(0,y.jsx)("h2",{children:"Edit the entered amount of water"}),a.waterRecords&&a.waterRecords.map((function(e){var a=e.id,t=e.consumedWater,n=e.date,r=new Date(n);return a===c?(0,y.jsxs)("div",{className:ea,children:[(0,y.jsxs)("p",{children:[t," ml"]})," ",(0,y.jsxs)("p",{children:[r.getHours()<10&&"0",r.getHours(),":",r.getMinutes()<10&&"0",r.getMinutes()]})]},a):null})),(0,y.jsx)("p",{children:"Correct entered data:"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{children:"Amount of water:"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{onClick:function(){C((function(e){return Math.max(e-50,0)}))},disabled:0===w,children:"-"}),w,"ml",(0,y.jsx)("button",{onClick:function(){C((function(e){return e+50}))},children:"+"})]})]}),(0,y.jsxs)("form",{onSubmit:function(a){a.preventDefault();var t=A.split(":").map(Number),n=(0,s.Z)(t,2),r=n[0],l=n[1],i=new Date;i.setHours(r),i.setMinutes(l);var o=i.toISOString();v(!1),document.body.style.overflow="",e((0,U.VZ)({amount:w,date:o,id:c}))},children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{children:"Recording time:"}),(0,y.jsx)("div",{children:(0,y.jsx)("select",{value:A,onChange:function(e){H(e.target.value)},children:function(){for(var e=[],a=0;a<24;a++)for(var t=0;t<60;t+=5){var n="".concat(a.toString(),":").concat(t.toString().padStart(2,"0"));e.push((0,y.jsx)("option",{value:n,children:n},n))}return e}()})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{children:"Enter the value of the water used:"}),(0,y.jsx)("input",{type:"text",value:k,onChange:function(e){W(e.target.value)},onBlur:function(){var e=50*Math.round(Number(k)/50);C(Number(k)),W(e.toString())}})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{children:[w,"ml"]}),(0,y.jsx)("button",{type:"submit",children:"Save"})]})]})]})]})})},ta=function(){return(0,y.jsx)("section",{className:Ke,children:(0,y.jsxs)("div",{className:"container ".concat(Qe),children:[(0,y.jsxs)("div",{className:Je,children:[(0,y.jsx)(z,{}),(0,y.jsx)(ge,{})]}),(0,y.jsxs)("div",{className:Ye,children:[(0,y.jsx)(aa,{}),(0,y.jsx)(qe,{})]})]})})}}}]);
//# sourceMappingURL=949.5e96f403.chunk.js.map